{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/danie/OneDrive/Desktop/WWIYT/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/danie/OneDrive/Desktop/WWIYT/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/danie/OneDrive/Desktop/WWIYT/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/danie/OneDrive/Desktop/WWIYT/node_modules/@babel/runtime/helpers/esm/createClass.js\";import axios from'axios';var _process$env=process.env,API_KEY=_process$env.REACT_APP_CONVERSION_DATA_API_KEY,API_URL=_process$env.REACT_APP_API_URL;var ApiService=/*#__PURE__*/function(){function ApiService(){_classCallCheck(this,ApiService);}_createClass(ApiService,[{key:\"getCityCode\",value:function(){var _getCityCode=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(name){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!name){_context.next=6;break;}_context.next=4;return axios.get(\"\".concat(API_URL,\"weather?q=\").concat(name,\"&appid=\").concat(API_KEY));case 4:response=_context.sent;return _context.abrupt(\"return\",response.data.id);case 6:_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"error in getCityCode\");return _context.abrupt(\"return\",null);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));function getCityCode(_x){return _getCityCode.apply(this,arguments);}return getCityCode;}()},{key:\"getWeather\",value:function(){var _getWeather=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(codes){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;if(!(codes&&codes.length>0)){_context2.next=6;break;}_context2.next=4;return axios.get(\"\".concat(API_URL,\"group?id=\").concat(codes.join(','),\"&appid=\").concat(API_KEY,\"&units=metric\"));case 4:response=_context2.sent;return _context2.abrupt(\"return\",response.data.list);case 6:_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);return _context2.abrupt(\"return\",null);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,8]]);}));function getWeather(_x2){return _getWeather.apply(this,arguments);}return getWeather;}()}]);return ApiService;}();export{ApiService as default};","map":{"version":3,"names":["axios","_process$env","process","env","API_KEY","REACT_APP_CONVERSION_DATA_API_KEY","API_URL","REACT_APP_API_URL","ApiService","_classCallCheck","_createClass","key","value","_getCityCode","_asyncToGenerator","_regeneratorRuntime","mark","_callee","name","response","wrap","_callee$","_context","prev","next","get","concat","sent","abrupt","data","id","t0","console","log","stop","getCityCode","_x","apply","arguments","_getWeather","_callee2","codes","_callee2$","_context2","length","join","list","getWeather","_x2","default"],"sources":["C:/Users/danie/OneDrive/Desktop/WWIYT/src/api/index.ts"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst {REACT_APP_CONVERSION_DATA_API_KEY:API_KEY, REACT_APP_API_URL:API_URL} = process.env;\r\nexport default class ApiService<Class> {\r\n    async getCityCode(name:string) {\r\n            try {\r\n                if (name) {\r\n                    const response = await axios.get(`${API_URL}weather?q=${name}&appid=${API_KEY}`)\r\n                    return response.data.id;\r\n                }\r\n            }catch (error) {\r\n                console.log(\"error in getCityCode\")\r\n                return null\r\n            }\r\n    }\r\n\r\n    async getWeather(codes:number[]) {\r\n        try {\r\n            if(codes && codes.length > 0) {\r\n                const response = await axios.get(`${API_URL}group?id=${codes.join(',')}&appid=${API_KEY}&units=metric`);\r\n                return response.data.list;\r\n            }\r\n        }catch {\r\n            return null\r\n        }\r\n        \r\n\r\n    }\r\n}\r\n\r\n"],"mappings":"0fAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,IAAAC,YAAA,CAA+EC,OAAO,CAACC,GAAG,CAAjDC,OAAO,CAAAH,YAAA,CAAzCI,iCAAiC,CAA4BC,OAAO,CAAAL,YAAA,CAAzBM,iBAAiB,CAAwB,GACtE,CAAAC,UAAU,kCAAAA,WAAA,EAAAC,eAAA,MAAAD,UAAA,GAAAE,YAAA,CAAAF,UAAA,GAAAG,GAAA,eAAAC,KAAA,gBAAAC,YAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAC3B,SAAAC,QAAkBC,IAAW,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,OAEbL,IAAI,EAAAI,QAAA,CAAAE,IAAA,UAAAF,QAAA,CAAAE,IAAA,SACmB,CAAAxB,KAAK,CAACyB,GAAG,IAAAC,MAAA,CAAIpB,OAAO,eAAAoB,MAAA,CAAaR,IAAI,YAAAQ,MAAA,CAAUtB,OAAO,CAAE,CAAC,QAA1Ee,QAAQ,CAAAG,QAAA,CAAAK,IAAA,QAAAL,QAAA,CAAAM,MAAA,UACPT,QAAQ,CAACU,IAAI,CAACC,EAAE,SAAAR,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,aAG3BU,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC,QAAAX,QAAA,CAAAM,MAAA,UAC5B,IAAI,2BAAAN,QAAA,CAAAY,IAAA,MAAAjB,OAAA,gBAEtB,YAAAkB,YAAAC,EAAA,SAAAvB,YAAA,CAAAwB,KAAA,MAAAC,SAAA,UAAAH,WAAA,OAAAxB,GAAA,cAAAC,KAAA,gBAAA2B,WAAA,CAAAzB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAED,SAAAwB,SAAiBC,KAAc,MAAAtB,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAsB,UAAAC,SAAA,iBAAAA,SAAA,CAAApB,IAAA,CAAAoB,SAAA,CAAAnB,IAAA,SAAAmB,SAAA,CAAApB,IAAA,QAEpBkB,KAAK,EAAIA,KAAK,CAACG,MAAM,CAAG,CAAC,GAAAD,SAAA,CAAAnB,IAAA,UAAAmB,SAAA,CAAAnB,IAAA,SACD,CAAAxB,KAAK,CAACyB,GAAG,IAAAC,MAAA,CAAIpB,OAAO,cAAAoB,MAAA,CAAYe,KAAK,CAACI,IAAI,CAAC,GAAG,CAAC,YAAAnB,MAAA,CAAUtB,OAAO,iBAAe,CAAC,QAAjGe,QAAQ,CAAAwB,SAAA,CAAAhB,IAAA,QAAAgB,SAAA,CAAAf,MAAA,UACPT,QAAQ,CAACU,IAAI,CAACiB,IAAI,SAAAH,SAAA,CAAAnB,IAAA,iBAAAmB,SAAA,CAAApB,IAAA,GAAAoB,SAAA,CAAAZ,EAAA,CAAAY,SAAA,oBAAAA,SAAA,CAAAf,MAAA,UAGtB,IAAI,2BAAAe,SAAA,CAAAT,IAAA,MAAAM,QAAA,gBAIlB,YAAAO,WAAAC,GAAA,SAAAT,WAAA,CAAAF,KAAA,MAAAC,SAAA,UAAAS,UAAA,eAAAvC,UAAA,YAxBgBA,UAAU,IAAAyC,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}