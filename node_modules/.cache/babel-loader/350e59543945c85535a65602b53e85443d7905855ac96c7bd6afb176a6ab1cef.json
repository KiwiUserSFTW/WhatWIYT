{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/danie/OneDrive/Desktop/WWIYT/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/danie/OneDrive/Desktop/WWIYT/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{MapsActionTypes}from\"../../types/maps\";import ApiService from\"../../api\";var Api=new ApiService();export var getWeatherByCodes=function getWeatherByCodes(codes){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!codes){_context.next=7;break;}dispatch({type:MapsActionTypes.FETCH_MAPS});_context.next=5;return Api.getWeather(codes);case 5:response=_context.sent;if(response){dispatch({type:MapsActionTypes.FETCH_MAPS_SUCCESS,payload:response});}case 7:_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);dispatch({type:MapsActionTypes.FETCH_MAPS_ERROR,payload:'loading error'});case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getCityCode=function getCityCode(name){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return Api.getCityCode(name);case 3:response=_context2.sent;if(response){dispatch({type:MapsActionTypes.ADD_MAP,payload:response});}_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var deleteCity=function deleteCity(removeCode){return function(dispatch){try{dispatch({type:MapsActionTypes.DELETE_MAP,payload:removeCode});}catch(error){console.log(error);}};};","map":{"version":3,"names":["MapsActionTypes","ApiService","Api","getWeatherByCodes","codes","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","response","wrap","_callee$","_context","prev","next","type","FETCH_MAPS","getWeather","sent","FETCH_MAPS_SUCCESS","payload","t0","FETCH_MAPS_ERROR","stop","_x","apply","arguments","getCityCode","name","_ref2","_callee2","_callee2$","_context2","ADD_MAP","console","log","_x2","deleteCity","removeCode","DELETE_MAP","error"],"sources":["C:/Users/danie/OneDrive/Desktop/WWIYT/src/store/action-creator/maps.ts"],"sourcesContent":["import { Dispatch } from \"redux\";\r\nimport { MapsAction, MapsActionTypes } from \"../../types/maps\";\r\nimport ApiService from \"../../api\";\r\n\r\nconst Api = new ApiService();\r\nexport const getWeatherByCodes = (codes:number[]): any => {\r\n    return async (dispatch: Dispatch<MapsAction>) => {\r\n        try{\r\n            if(codes) {\r\n                dispatch({ type: MapsActionTypes.FETCH_MAPS })\r\n                const response = await Api.getWeather(codes);\r\n                if(response){\r\n                dispatch({ type: MapsActionTypes.FETCH_MAPS_SUCCESS, payload: response})\r\n                }\r\n            }\r\n        }catch(error) {\r\n            dispatch({type: MapsActionTypes.FETCH_MAPS_ERROR, payload: 'loading error'});\r\n        } \r\n    }\r\n}\r\n\r\nexport const getCityCode = (name:string):any => {\r\n    return async (dispatch:Dispatch<MapsAction>) => {\r\n        try {\r\n            const response = await Api.getCityCode(name);\r\n            if(response) {\r\n                dispatch({type:MapsActionTypes.ADD_MAP, payload:response})\r\n            }\r\n        }catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteCity = (removeCode:number):any => {\r\n    return (dispatch:Dispatch<MapsAction>) => {\r\n        try {\r\n            dispatch({type:MapsActionTypes.DELETE_MAP, payload: removeCode})\r\n        }catch(error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}"],"mappings":"sQACA,OAAqBA,eAAe,KAAQ,kBAAkB,CAC9D,MAAO,CAAAC,UAAU,KAAM,WAAW,CAElC,GAAM,CAAAC,GAAG,CAAG,GAAI,CAAAD,UAAU,CAAC,CAAC,CAC5B,MAAO,IAAM,CAAAE,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,KAAc,CAAU,CACtD,kCAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAO,SAAAC,QAAOC,QAA8B,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,OAEjCX,KAAK,EAAAU,QAAA,CAAAE,IAAA,UACJN,QAAQ,CAAC,CAAEO,IAAI,CAAEjB,eAAe,CAACkB,UAAW,CAAC,CAAC,CAAAJ,QAAA,CAAAE,IAAA,SACvB,CAAAd,GAAG,CAACiB,UAAU,CAACf,KAAK,CAAC,QAAtCO,QAAQ,CAAAG,QAAA,CAAAM,IAAA,CACd,GAAGT,QAAQ,CAAC,CACZD,QAAQ,CAAC,CAAEO,IAAI,CAAEjB,eAAe,CAACqB,kBAAkB,CAAEC,OAAO,CAAEX,QAAQ,CAAC,CAAC,CACxE,CAAC,OAAAG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,aAGLJ,QAAQ,CAAC,CAACO,IAAI,CAAEjB,eAAe,CAACwB,gBAAgB,CAAEF,OAAO,CAAE,eAAe,CAAC,CAAC,CAAC,yBAAAR,QAAA,CAAAW,IAAA,MAAAhB,OAAA,gBAEpF,mBAAAiB,EAAA,SAAArB,IAAA,CAAAsB,KAAA,MAAAC,SAAA,QACL,CAAC,CAED,MAAO,IAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,IAAW,CAAS,CAC5C,kCAAAC,KAAA,CAAAzB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAO,SAAAwB,SAAOtB,QAA6B,MAAAC,QAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAqB,UAAAC,SAAA,iBAAAA,SAAA,CAAAnB,IAAA,CAAAmB,SAAA,CAAAlB,IAAA,SAAAkB,SAAA,CAAAnB,IAAA,GAAAmB,SAAA,CAAAlB,IAAA,SAEZ,CAAAd,GAAG,CAAC2B,WAAW,CAACC,IAAI,CAAC,QAAtCnB,QAAQ,CAAAuB,SAAA,CAAAd,IAAA,CACd,GAAGT,QAAQ,CAAE,CACTD,QAAQ,CAAC,CAACO,IAAI,CAACjB,eAAe,CAACmC,OAAO,CAAEb,OAAO,CAACX,QAAQ,CAAC,CAAC,CAC9D,CAACuB,SAAA,CAAAlB,IAAA,iBAAAkB,SAAA,CAAAnB,IAAA,GAAAmB,SAAA,CAAAX,EAAA,CAAAW,SAAA,aAEDE,OAAO,CAACC,GAAG,CAAAH,SAAA,CAAAX,EAAM,CAAC,0BAAAW,SAAA,CAAAT,IAAA,MAAAO,QAAA,gBAEzB,mBAAAM,GAAA,SAAAP,KAAA,CAAAJ,KAAA,MAAAC,SAAA,QACL,CAAC,CAED,MAAO,IAAM,CAAAW,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,UAAiB,CAAS,CACjD,MAAO,UAAC9B,QAA6B,CAAK,CACtC,GAAI,CACAA,QAAQ,CAAC,CAACO,IAAI,CAACjB,eAAe,CAACyC,UAAU,CAAEnB,OAAO,CAAEkB,UAAU,CAAC,CAAC,CACpE,CAAC,MAAME,KAAK,CAAE,CACVN,OAAO,CAACC,GAAG,CAACK,KAAK,CAAC,CACtB,CACJ,CAAC,CACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}